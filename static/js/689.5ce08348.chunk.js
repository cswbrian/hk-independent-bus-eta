"use strict";(self.webpackChunkhk_independent_bus_eta=self.webpackChunkhk_independent_bus_eta||[]).push([[689],{8689:function(e,t,n){n.r(t),n.d(t,{default:function(){return X}});var a=n(4942),r=n(9439),o=n(7313),c=n(7440),i=n(8564),s=n(8310),l=n(3165),d=n(4689),u=n(6912),p=n(9099),h=n(9019),f=n(7829),m=n(2720),x=n(4511),g=n(6417),b=function(e){var t=e.k,n=e.handleClick,a=e.disabled,r=void 0!==a&&a,o=e.className,c=(0,x.$)().t;return(0,g.jsx)(p.Z,{size:"large",variant:"contained",className:"".concat(w.button," ").concat(o),onClick:function(){return n(t)},disabled:r,disableRipple:!0,children:"b"===t?(0,g.jsx)(m.Z,{}):"c"===t?(0,g.jsx)("div",{className:w.cancel,children:c("C")}):t})},Z=function(){var e=(0,o.useContext)(c.Z),t=e.searchRoute,n=e.updateSearchRouteByButton,a=e.possibleChar;return(0,g.jsx)(h.ZP,{container:!0,spacing:0,children:"789456123c0b".split("").map((function(e){return(0,g.jsx)(h.ZP,{item:!0,xs:4,children:(0,g.jsx)(b,{k:e,handleClick:n,className:w.number,disabled:"b"===e&&""===t||!"bc".includes(e)&&!a.includes(e)||"c"===e&&""===t})},"input-"+e)}))})},j=function(){var e=(0,o.useContext)(c.Z),t=e.updateSearchRouteByButton,n=e.possibleChar;return(0,g.jsx)(h.ZP,{container:!0,spacing:1,children:n.filter((function(e){return isNaN(parseInt(e,10))})).map((function(e){return(0,g.jsx)(h.ZP,{item:!0,xs:12,children:(0,g.jsx)(b,{k:e,handleClick:t,className:w.alphabet})},"input-"+e)}))})},C=function(){return"prerendering"===navigator.userAgent?(0,g.jsx)(g.Fragment,{}):(0,g.jsxs)(k,{className:w.root,padding:0,children:[(0,g.jsx)(f.Z,{className:w.numPadContainer,padding:0,children:(0,g.jsx)(Z,{})}),(0,g.jsx)(f.Z,{className:w.alphabetPadContainer,padding:0,children:(0,g.jsx)(j,{})})]})},v="inputpad",w={root:"".concat(v,"-boxContainer"),numPadContainer:"".concat(v,"-numPadContainer"),alphabetPadContainer:"".concat(v,"-alphabetPadContainer"),button:"".concat(v,"-button"),alphabet:"".concat(v,"-alphabet"),cancel:"".concat(v,"-cancel"),number:"".concat(v,"-number")},k=(0,i.ZP)(f.Z)((function(e){var t,n=e.theme;return t={},(0,a.Z)(t,"&.".concat(w.root),{display:"flex",flexDirection:"row",height:"248px",justifyContent:"space-around"}),(0,a.Z)(t,"& .".concat(w.numPadContainer),{width:"60%"}),(0,a.Z)(t,"& .".concat(w.alphabetPadContainer),{width:"20%",height:"246px",overflowX:"hidden",overflowY:"scroll"}),(0,a.Z)(t,"& .".concat(w.button),{background:n.palette.background.paper,color:n.palette.text.primary,width:"100%",fontSize:"1.4em",borderRadius:"unset","&:selected":{color:n.palette.text.primary},"&:hover":{backgroundColor:n.palette.background.paper}}),(0,a.Z)(t,"& .".concat(w.cancel),{fontSize:"0.9em"}),(0,a.Z)(t,"& .".concat(w.alphabet),{height:"52px"}),(0,a.Z)(t,"& .".concat(w.number),{height:"62px"}),t})),N=n(1113),T=n(4183),y=n(3405),P=n(3428),I=n(8303),S=n(3830),L=n(5823),R=n(219),W=function(e){var t=e.route,n=(0,x.$)(),a=n.t,r=n.i18n;return(0,g.jsx)(N.Z,{component:"h3",variant:"body1",className:_.routeInfo,children:(0,g.jsxs)("div",{children:[(0,g.jsxs)("div",{className:_.fromToWrapper,children:[(0,g.jsx)("span",{className:_.fromToText,children:"".concat(a("\u5f80")," ")}),(0,g.jsx)("b",{children:(0,L.iF)(t.dest[r.language])})]}),(0,g.jsxs)("div",{className:_.fromWrapper,children:[(0,g.jsx)("span",{className:_.fromText,children:a("\u7531")}),(0,g.jsx)("span",{children:(0,L.iF)(t.orig[r.language])})]})]})})},z=o.memo((function(e){var t=e.data,n=e.index,a=e.style,o=(0,x.$)(),c=o.t,i=o.i18n,s=t.routeList[n],l=s[0].split("-").slice(0,2),d=(0,r.Z)(l,2),u=d[0],p=d[1],h=(0,S.k6)();return(0,g.jsx)(I.rU,{onClick:function(e){e.preventDefault(),(0,L.tp)(1),setTimeout((function(){h.push("/".concat(i.language,"/route/").concat(s[0].toLowerCase()))}),0)},to:"/".concat(i.language,"/route/").concat(s[0].toLowerCase()),children:(0,g.jsx)(B,{className:_.card,variant:"outlined",style:a,square:!0,children:(0,g.jsx)(T.Z,{children:(0,g.jsxs)(y.Z,{className:_.cardContent,children:[(0,g.jsxs)("div",{className:_.busInfoContainer,children:[(0,g.jsxs)("div",{children:[(0,g.jsx)(R.Z,{routeNo:u}),parseInt(p,10)>=2&&(0,g.jsx)(N.Z,{variant:"caption",className:_.specialTrip,children:c("\u7279\u5225\u73ed")})]}),(0,g.jsx)(N.Z,{component:"h4",variant:"caption",className:_.company,children:s[1].co.map((function(e){return c(e)})).join("+")})]}),(0,g.jsx)(W,{route:s[1]})]})})},s[0])})}),l.wy),D="routeRow",_={card:"".concat(D,"-card"),cardContent:"".concat(D,"-cardContent"),busInfoContainer:"".concat(D,"-busInfoContainer"),routeInfo:"".concat(D,"-routeInfo"),company:"".concat(D,"-company"),fromToWrapper:"".concat(D,"-fromToWrapper"),fromToText:"".concat(D,"-fromToText"),fromWrapper:"".concat(D,"-fromWrapper"),fromText:"".concat(D,"-fromText"),specialTrip:"".concat(D,"-specialTrip")},B=(0,i.ZP)(P.Z)((function(e){var t,n=e.theme;return t={},(0,a.Z)(t,"&.".concat(_.card),{background:"dark"===n.palette.mode?n.palette.background.default:"white"}),(0,a.Z)(t,"& .".concat(_.cardContent),{display:"flex",justifyContent:"flex-start",alignItems:"center",padding:"4px 16px"}),(0,a.Z)(t,"& .".concat(_.busInfoContainer),{width:"25%"}),(0,a.Z)(t,"& .".concat(_.routeInfo),{textAlign:"left",fontSize:"1rem",width:"75%"}),(0,a.Z)(t,"& .".concat(_.company),{color:n.palette.text.secondary}),(0,a.Z)(t,"& .".concat(_.fromToWrapper),{display:"flex",alignItems:"baseline",whiteSpace:"nowrap",overflowX:"hidden"}),(0,a.Z)(t,"& .".concat(_.fromToText),{fontSize:"0.95rem",marginRight:n.spacing(.5)}),(0,a.Z)(t,"& .".concat(_.fromWrapper),{display:"flex",alignItems:"baseline",whiteSpace:"nowrap",overflowX:"hidden",fontSize:"0.75rem"}),(0,a.Z)(t,"& .".concat(_.fromText),{marginRight:n.spacing(.5)}),(0,a.Z)(t,"& .".concat(_.specialTrip),{fontSize:"0.6rem",marginLeft:"8px"}),t})),F=n(3135),A=(0,u.Z)((function(e){return{routeList:e}})),$=function(){var e=(0,o.useContext)(c.Z),t=e.AppTitle,n=e.db,a=n.holidays,i=n.routeList,s=e.searchRoute,u=e.isRouteFilter,p=(0,F.HD)(a,new Date),h=Object.entries(i).filter((function(e){var t=(0,r.Z)(e,2),n=t[0],a=t[1],o=a.stops,c=a.co;return n.startsWith(s.toUpperCase())&&(null==o[c[0]]||o[c[0]].length>0)})).filter((function(e){var t=(0,r.Z)(e,2),n=(t[0],t[1].freq);return!u||(0,F.x4)(n,p)})),f=(0,x.$)(),m=f.t,b=f.i18n;(0,o.useEffect)((function(){(0,L.ND)({title:m("\u641c\u5c0b")+" - "+m(t),description:m("route-board-page-description"),lang:b.language})}),[b.language]);var Z=A(h);return"prerendering"===navigator.userAgent?(0,g.jsx)(Y,{className:U.prerenderList,children:h.map((function(e,t){return(0,g.jsx)(z,{data:Z,index:t,style:null},"route-".concat(t))}))}):(0,g.jsx)(E,{className:U.list,children:(0,g.jsx)(d.Z,{children:function(e){var t=e.height,n=e.width;return(0,g.jsx)(l.t7,{height:.98*t,itemCount:h.length,itemSize:56,width:n,itemData:Z,className:U.root,children:z})}})})},X=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)($,{}),(0,g.jsx)(C,{})]})},q="routeBoard",U={root:"".concat(q,"-root"),list:"".concat(q,"-list"),prerenderList:"".concat(q,"-prerenderList")},Y=(0,i.ZP)("div")((function(e){e.theme;return(0,a.Z)({},"&.".concat(U.prerenderList),{height:"100%",overflowY:"scroll","& a":{textDecoration:"none"}})})),E=(0,i.ZP)(s.Z)((function(e){var t,n=e.theme;return t={},(0,a.Z)(t,"&.".concat(U.root),{background:"dark"===n.palette.mode?n.palette.background.default:"white"}),(0,a.Z)(t,"&.".concat(U.list),{flex:"1 1 auto"}),t}))}}]);